{% extends 'AppBundle:Layout:base+drawer.html.twig' %}

{% block links %}
    {{ parent() }}
    <link rel="import" href="/bower_components/core-header-panel/core-header-panel.html">
    <link rel="import" href="/bower_components/core-toolbar/core-toolbar.html">
    <link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html"/>

    <link rel="import" href="/bower_components/core-ajax/core-ajax.html"/>
    <link rel="import" href="/bower_components/core-list/core-list.html"/>
    <link rel="import" href="/bower_components/paper-item/paper-item.html"/>
{% endblock links %}

{% block content %}
    {% import 'Nemo64PolymerBundle::common.html.twig' as polymer %}

    <core-header-panel fit mode="{% block header_mode %}standard{% endblock header_mode %}">
        <core-toolbar>
            <paper-icon-button icon="menu" core-drawer-toggle></paper-icon-button>
            <div flex>Kontakte</div>
        </core-toolbar>

        <section id="contacts">
            <core-ajax auto url="{{ path('get_contacts') }}" handleAs="json"
                       response="{{ polymer.var('contacts') }}"></core-ajax>

            <core-list data="{{ polymer.var('contacts') }}" height="48" fit>
                <template>
                    <paper-item>
                        {{ polymer.var('contacts[index].name.normal') }}
                    </paper-item>
                </template>
            </core-list>
        </section>
    </core-header-panel>
{% endblock content %}