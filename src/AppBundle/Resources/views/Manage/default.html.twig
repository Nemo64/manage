{% extends 'AppBundle:Layout:base.html.twig' %}

{% block links %}
    {{ parent() }}
    <link rel="import" href="/bower_components/core-ajax/core-ajax.html"/>
    <link rel="import" href="/bower_components/core-drawer-panel/core-drawer-panel.html">
    <link rel="import" href="/bower_components/core-header-panel/core-header-panel.html">

    <link rel="import" href="/bower_components/core-toolbar/core-toolbar.html">
    <link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="/bower_components/core-menu/core-menu.html">
    <link rel="import" href="/bower_components/paper-item/paper-item.html">
    <link rel="import" href="/bower_components/core-icon/core-icon.html">

    <link rel="import" href="/bower_components/core-pages/core-pages.html">
    <link rel="import" href="/bower_components/core-animated-pages/core-animated-pages.html">
    <link rel="import" href="/bundles/contact/component/contact-list.html">

    <link rel="import" href="/bower_components/paper-fab/paper-fab.html"/>
    <link rel="import" href="/bower_components/fab-position/fab-position.html"/>
{% endblock links %}

{% block stylesheets %}
    <style>
        html {
            font-family: 'RobotoDraft', sans-serif;
        }

        core-toolbar {
            background: #0059ff;
            color: white;
        }

        paper-item > core-icon {
            margin-right: 0.5em;
        }

        [drawer] {
            background-color: #fff;
        }
    </style>
{% endblock stylesheets %}

{% block body %}
    <template is="auto-binding">
        {% import 'Nemo64PolymerBundle::common.html.twig' as polymer %}

        <core-drawer-panel>
            <core-header-panel drawer mode="seamed">

                <core-toolbar>
                    <div flex>Management</div>
                </core-toolbar>

                <core-menu selected="{{ polymer.var('page') }}">
                    <paper-item hash="contacts">
                        <core-icon icon="assignment-ind"></core-icon>
                        Personen
                    </paper-item>
                    <paper-item hash="companies">
                        <core-icon icon="store"></core-icon>
                        Firmen
                    </paper-item>
                    <hr/>
                    <paper-item hash="settings">
                        <core-icon icon="settings"></core-icon>
                        Einstellungen
                    </paper-item>
                </core-menu>

            </core-header-panel>

            <core-animated-pages main selected="{{ polymer.var('page') }}" transitions="slide-from-right">

                <section hash="contacts">
                    <core-header-panel fit mode="seamed">
                        <core-toolbar>
                            <paper-icon-button icon="menu" core-drawer-toggle></paper-icon-button>
                            <div flex>Kontakte</div>
                        </core-toolbar>
                        <core-ajax auto url="{{ path('get_contacts') }}" handleAs="json"
                                   response="{{ polymer.var('contacts') }}"></core-ajax>
                        <contact-list data="{{ polymer.var('contacts') }}" fit></contact-list>
                        <fab-position mode="floating">
                            <paper-fab icon="add" class="bottom-fab"></paper-fab>
                        </fab-position>
                    </core-header-panel>
                </section>

                <section hash="companies">
                    <core-header-panel fit mode="seamed">
                        <core-toolbar>
                            <div flex>Firmen</div>
                        </core-toolbar>
                        <div>hier k√∂nnten firmen stehen</div>
                    </core-header-panel>
                </section>

            </core-animated-pages>
        </core-drawer-panel>
    </template>
{% endblock body %}